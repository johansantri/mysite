INFO 2025-07-10 11:13:53,409 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
INFO 2025-07-10 11:13:53,927 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
INFO 2025-07-10 11:13:54,062 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
DEBUG 2025-07-10 11:13:54,557 views [LTI LOGIN HANDLER] Query Params: {'iss': 'https://moodle.icei.ac.id', 'login_hint': 'abc', 'client_id': 'GaZTD4QsBcUGfJq', 'target_link_uri': 'https://ini.icei.ac.id/lti/launch/'}
ERROR 2025-07-10 11:13:54,724 views [LTI LOGIN HANDLER] Exception: module 'django.utils.timezone' has no attribute 'utc'
Traceback (most recent call last):
  File "/home/TIM/mysite/courses/views.py", line 196, in lti_tool_login_handler
    nonce = generate_nonce(request)
  File "/home/TIM/mysite/courses/views.py", line 108, in generate_nonce
    request.session['lti_nonce_timestamp'] = datetime.now(timezone.utc).timestamp()
AttributeError: module 'django.utils.timezone' has no attribute 'utc'
INFO 2025-07-10 11:16:49,064 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
INFO 2025-07-10 11:16:49,147 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
INFO 2025-07-10 11:16:49,208 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
DEBUG 2025-07-10 11:16:55,774 views [LTI LOGIN HANDLER] Query Params: {'iss': 'https://moodle.icei.ac.id', 'login_hint': 'abc', 'client_id': 'GaZTD4QsBcUGfJq', 'target_link_uri': 'https://ini.icei.ac.id/lti/launch/'}
ERROR 2025-07-10 11:16:55,930 views [LTI LOGIN HANDLER] Exception: module 'django.utils.timezone' has no attribute 'utc'
Traceback (most recent call last):
  File "/home/TIM/mysite/courses/views.py", line 196, in lti_tool_login_handler
    nonce = generate_nonce(request)
  File "/home/TIM/mysite/courses/views.py", line 108, in generate_nonce
    request.session['lti_nonce_timestamp'] = datetime.now(timezone.utc).timestamp()
AttributeError: module 'django.utils.timezone' has no attribute 'utc'
INFO 2025-07-10 11:18:32,920 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
INFO 2025-07-10 11:18:33,090 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
INFO 2025-07-10 11:18:33,295 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
DEBUG 2025-07-10 11:18:34,425 views [LTI LOGIN HANDLER] Query Params: {'iss': 'https://moodle.icei.ac.id', 'login_hint': 'abc', 'client_id': 'GaZTD4QsBcUGfJq', 'target_link_uri': 'https://ini.icei.ac.id/lti/launch/'}
DEBUG 2025-07-10 11:18:34,689 views [NONCE] Generated nonce: 11219d20fa384b07b2620134676a21ff, timestamp: 1752121114.689857
ERROR 2025-07-10 11:18:34,690 views [LTI LOGIN HANDLER] Exception: 'LTIPlatform' object has no attribute 'auth_login_url'
Traceback (most recent call last):
  File "/home/TIM/mysite/courses/views.py", line 213, in lti_tool_login_handler
    authorize_url = f"{platform.auth_login_url}?{encoded_auth_params}"
AttributeError: 'LTIPlatform' object has no attribute 'auth_login_url'
INFO 2025-07-10 11:20:22,644 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
INFO 2025-07-10 11:20:51,295 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
INFO 2025-07-10 11:22:54,926 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
INFO 2025-07-10 11:23:06,906 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
INFO 2025-07-10 11:23:07,111 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
INFO 2025-07-10 11:23:07,138 apps AXES: BEGIN version 8.0.0, blocking by username or ip_address
DEBUG 2025-07-10 11:23:44,361 views [LTI LOGIN HANDLER] Query Params: {'iss': 'https://moodle.icei.ac.id', 'login_hint': 'abc', 'client_id': 'GaZTD4QsBcUGfJq', 'target_link_uri': 'https://ini.icei.ac.id/lti/launch/'}
DEBUG 2025-07-10 11:23:44,367 views [NONCE] Generated nonce: 833ef1e937d14bf6b609e73753e1711b, timestamp: 1752121424.367421
DEBUG 2025-07-10 11:23:44,367 views [LTI LOGIN HANDLER] Redirecting to: https://moodle.icei.ac.id/mod/lti/auth.php?scope=openid&response_type=id_token&client_id=GaZTD4QsBcUGfJq&redirect_uri=https%3A//ini.icei.ac.id/lti/launch/&login_hint=abc&state=4ecb458a1eef4624963274990537f291&response_mode=form_post&nonce=833ef1e937d14bf6b609e73753e1711b&prompt=none&lti_message_hint=None
DEBUG 2025-07-10 11:24:34,372 views [LTI LOGIN HANDLER] Query Params: {}
ERROR 2025-07-10 11:24:34,372 views [LTI LOGIN HANDLER] Missing required 'client_id' or 'iss'
DEBUG 2025-07-10 11:24:36,768 views [LTI LOGIN HANDLER] Query Params: {}
ERROR 2025-07-10 11:24:36,768 views [LTI LOGIN HANDLER] Missing required 'client_id' or 'iss'
DEBUG 2025-07-10 11:30:02,499 views [LTI LOGIN HANDLER] Query Params: {}
ERROR 2025-07-10 11:30:02,499 views [LTI LOGIN HANDLER] Missing required 'client_id' or 'iss'
WARNING 2025-07-10 11:34:15,983 log Forbidden (Referer checking failed - no Referer.): /
DEBUG 2025-07-10 11:35:04,741 views [LTI LOGIN HANDLER] Query Params: {}
ERROR 2025-07-10 11:35:04,741 views [LTI LOGIN HANDLER] Missing required 'client_id' or 'iss'
DEBUG 2025-07-10 11:36:23,337 views [LTI LOGIN HANDLER] Query Params: {'iss': 'https://moodle.icei.ac.id', 'client_id': 'j4nqlzDfxHIryG4', 'login_hint': 'abc123', 'lti_message_hint': 'xyz456', 'target_link_uri': 'https://ini.icei.ac.id/lti/launch/'}
DEBUG 2025-07-10 11:36:23,342 views [NONCE] Generated nonce: 7a7dea4337ba4a6f8e9623284c3b08e9, timestamp: 1752122183.342154
DEBUG 2025-07-10 11:36:23,342 views [LTI LOGIN HANDLER] Redirecting to: https://moodle.icei.ac.id/mod/lti/auth.php?scope=openid&response_type=id_token&client_id=j4nqlzDfxHIryG4&redirect_uri=https%3A//ini.icei.ac.id/lti/launch/&login_hint=abc123&state=88ea54a8a7624708b9564f8dc5deb4bf&response_mode=form_post&nonce=7a7dea4337ba4a6f8e9623284c3b08e9&prompt=none&lti_message_hint=xyz456
DEBUG 2025-07-10 11:45:47,813 views [LTI LAUNCH] Received request: method=GET, POST=<QueryDict: {}>
ERROR 2025-07-10 11:45:47,813 views [LTI LAUNCH] Invalid method: GET
DEBUG 2025-07-10 11:46:00,217 views [LTI LAUNCH] Received request: method=GET, POST=<QueryDict: {}>
ERROR 2025-07-10 11:46:00,217 views [LTI LAUNCH] Invalid method: GET
DEBUG 2025-07-10 11:46:47,934 views [LTI LOGIN HANDLER] Query Params: {}
ERROR 2025-07-10 11:46:47,934 views [LTI LOGIN HANDLER] Missing required 'client_id' or 'iss'
DEBUG 2025-07-10 11:48:06,635 views [LTI LOGIN HANDLER] Query Params: {}
ERROR 2025-07-10 11:48:06,635 views [LTI LOGIN HANDLER] Missing required 'client_id' or 'iss'
DEBUG 2025-07-10 11:49:52,880 views [LTI LOGIN HANDLER] Query Params: {}
ERROR 2025-07-10 11:49:52,881 views [LTI LOGIN HANDLER] Missing required 'client_id' or 'iss'
https://ini.icei.ac.id/lti/login/?iss=https://moodle.icei.ac.id&client_id=WZT5Y5v2W1tgSqn&login_hint=abc123&lti_message_hint=xyz456&target_link_uri=https://ini.icei.ac.id/lti/launch/
DEBUG 2025-07-10 11:51:35,195 views [LTI LOGIN HANDLER] Query Params: {'iss': 'https://moodle.icei.ac.id', 'client_id': 'WZT5Y5v2W1tgSqn', 'login_hint': 'abc123', 'lti_message_hint': 'xyz456', 'target_link_uri': 'https://ini.icei.ac.id/lti/launch/'}
DEBUG 2025-07-10 11:51:35,201 views [NONCE] Generated nonce: 66fb5994e389496a8e2a8744115284d1, timestamp: 1752123095.201226
DEBUG 2025-07-10 11:51:35,201 views [LTI LOGIN HANDLER] Redirecting to: https://moodle.icei.ac.id/mod/lti/auth.php?scope=openid&response_type=id_token&client_id=WZT5Y5v2W1tgSqn&redirect_uri=https%3A//ini.icei.ac.id/lti/launch/&login_hint=abc123&state=56e5f8eefcd94e4aa7e97cc9600213a7&response_mode=form_post&nonce=66fb5994e389496a8e2a8744115284d1&prompt=none&lti_message_hint=xyz456
