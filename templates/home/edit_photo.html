{% extends 'home/tes.html' %}
{% block content %}

  <div class="tile">
    <h3 class="tile-title">Upload Image</h3>

    {% if messages %}
      <ul class="messages">
        {% for message in messages %}
          <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}

    <div class="tile-body">
      <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Tampilkan error non-field (jika ada) -->
        {% if form.non_field_errors %}
          <div class="alert alert-danger">
            {% for error in form.non_field_errors %}
              <p>{{ error }}</p>
            {% endfor %}
          </div>
        {% endif %}

        <div class="form-group">
          <label for="{{ form.photo.id_for_label }}">Foto</label>
          {{ form.photo }}

          <!-- Tampilkan error field photo -->
          {% if form.photo.errors %}
            <div class="text-danger">
              {% for error in form.photo.errors %}
                <p>{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
        </div>

        <div class="tile-footer mt-3">
          <button class="btn btn-primary" type="submit">
            <i class="bi bi-check-circle-fill me-2"></i>Submit Now
          </button>
          &nbsp;&nbsp;&nbsp;
          <a class="btn btn-secondary" href="{% if user.is_superuser or user.is_partner %}
                                              {% url 'authentication:dasbord' %}
                                            {% else %}
                                              {% url 'authentication:dashbord' %}
                                            {% endif %}">
            <i class="bi bi-x-circle-fill me-2"></i>Cancel
          </a>
        </div>
      </form>
    </div>
  </div>

{% endblock %}
