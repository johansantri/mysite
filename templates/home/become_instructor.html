{% extends 'home/tes.html' %}
{% load static %}

{% block content %}

<!-- Hero Section -->
<section class="py-5 bg-danger text-white text-center">
  <div class="container">
    <h1 class="display-5 fw-bold">Become an Instructor</h1>
    <p class="lead">Share your knowledge, inspire others, and earn money by teaching your passion.</p>
    <a href="#form-section" class="btn btn-light btn-lg mt-3">Get Started</a>
  </div>
</section>

<!-- Features Section -->
<section class="py-5 bg-white">
  <div class="container">
    <h2 class="text-center fw-bold mb-5">Why Teach with Us?</h2>
    <div class="row g-4">
      <div class="col-md-4">
        <div class="p-4 border rounded shadow-sm h-100 text-center">
          <i class="fas fa-globe fa-2x mb-3 text-danger"></i>
          <h5>Reach a Global Audience</h5>
          <p class="text-muted">Share your expertise with millions of learners worldwide.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="p-4 border rounded shadow-sm h-100 text-center">
          <i class="fas fa-money-bill-wave fa-2x mb-3 text-danger"></i>
          <h5>Earn Money</h5>
          <p class="text-muted">Earn revenue from every student who enrolls in your course.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="p-4 border rounded shadow-sm h-100 text-center">
          <i class="fas fa-clock fa-2x mb-3 text-danger"></i>
          <h5>Flexible Schedule</h5>
          <p class="text-muted">Create courses at your own pace and teach whenever you want.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Partner Autocomplete Config -->
<div id="partner-autocomplete-config" data-url="{% url 'courses:partner_autocomplete' %}"></div>

<!-- Application Form Section -->
<section class="py-5 bg-light" id="form-section">
  
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="p-5 bg-white rounded shadow-sm">
          <h2 class="mb-4 text-center fw-bold">Apply to Become an Instructor</h2>
          <form method="POST" enctype="multipart/form-data" novalidate>
            {% csrf_token %}
            {{ form.media }}
            {{ form.as_p }}
            <div class="text-center mt-4">
              <button type="submit" class="btn btn-primary btn-lg w-50">Submit Application</button>
            </div>
          </form>
        </div>
      </div>
    </div>
 
</section>

<!-- Inisialisasi Select2 -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const configDiv = document.getElementById("partner-autocomplete-config");
  const autocompleteUrl = configDiv?.dataset?.url;

  if (typeof $ !== 'undefined' && $('.select2').length > 0 && autocompleteUrl) {
    $('.select2').select2({
      placeholder: 'Search for a partner',
      ajax: {
        url: autocompleteUrl,
        dataType: 'json',
        delay: 250,
        data: function (params) {
          return {
            q: params.term,
            page: params.page || 1
          };
        },
        processResults: function (data, params) {
          return {
            results: data.results,
            pagination: {
              more: data.pagination && data.pagination.more
            }
          };
        },
        cache: true
      },
      minimumInputLength: 1,
      allowClear: true,
      width: '100%'
    });
  }
});
</script>

{% endblock %}
