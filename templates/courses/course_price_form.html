{% extends 'home/tes.html' %}
{% block content %}

    {% include "courses/course_set.html"%}
    <hr>  


    <h2>Tambah Harga Kursus</h2>
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Simpan</button>
    </form>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const priceTypeSelect = document.querySelector('#id_price_type');
        const partnerPriceInput = document.querySelector('#id_partner_price');
        const discountPercentInput = document.querySelector('#id_discount_percent');

        function togglePriceFields() {
            if (priceTypeSelect.value === 'free') {
                partnerPriceInput.disabled = true;
                discountPercentInput.disabled = true;
                partnerPriceInput.value = '';
                discountPercentInput.value = '';
            } else {
                partnerPriceInput.disabled = false;
                discountPercentInput.disabled = false;
            }
        }

        priceTypeSelect.addEventListener('change', togglePriceFields);
        togglePriceFields();
    });
</script>
{% endblock %}
